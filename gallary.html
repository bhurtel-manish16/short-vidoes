<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        html, body {
  min-height:100vh;
}

body {
  display: flex; 
  align-items: center; 
  flex-flow: column nowrap;
  overflow-x: hidden;
  background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
  margin: 0;
  min-height: 100vh;
}

.title {
  font: 1.3em/1 monospace;
  font-variant: small-caps;
  letter-spacing: 0.5em;
  margin: 4em;
  color: #fff;
  text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.gallery {
  perspective: 900px; /* Increased for better depth */
  width: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 2em;
  margin: 0 auto;
}

/* Update the ul sizing for better grid fit */
ul {
  position: relative;
  width: 240px;    /* Increased base size */
  height: 240px;   /* Increased base size */
  margin: 0;
  perspective-origin: center center;
  transform-style: preserve-3d;
  transform: rotateX(35deg) scale(1.1); /* Increased initial scale */
  transition: transform 1.2s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 1s cubic-bezier(0.4, 0, 0.2, 1);
  box-shadow: 0 20px 50px rgba(0,0,0,0.3),
              0 0 30px rgba(0,0,0,0.2);
  animation: float 6s ease-in-out infinite;
  will-change: transform, box-shadow;
}

ul:hover {
  transform: translateZ(120px) rotateX(15deg) scale(1.3); /* Enhanced hover effect */
  z-index: 999;
  box-shadow: 0 30px 60px rgba(0,0,0,0.5),
              0 0 40px rgba(0,0,0,0.3),
              0 0 100px rgba(0,0,0,0.2);
}

ul:hover li {
  filter:grayscale(0);
}

li {
  position: absolute; left:0; top:0;
  backface-visibility: hidden;
  width: 100%; height: 100%;
  transition: transform 1.2s cubic-bezier(0.4, 0, 0.2, 1), 
              filter 1.5s cubic-bezier(0.4, 0, 0.2, 1),
              box-shadow 1s cubic-bezier(0.4, 0, 0.2, 1);
  background: coral;
  filter: grayscale(0.5) brightness(0.95) contrast(1.1);
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 16px rgba(0,0,0,0.2);
  border: 1px solid rgba(255,255,255,0.1);
  will-change: transform, filter, box-shadow;
}
/*
Setup individual planes final poistion(by left top) and initial position(by transform)
*/
li:first-of-type {transform:none;}
li:nth-of-type(2) {left:100%; transform-origin:left center; transform:rotateY(180deg);}
li:nth-of-type(3) {top:100%; transform-origin:center top; transform:rotateX(-180deg);}
li:nth-of-type(4) {left:-100%; transform-origin:right center; transform:rotateY(-180deg);}
li:nth-of-type(5) {top:-100%; transform-origin:center bottom; transform:rotateX(180deg);}
li:nth-of-type(6) {top:100%; left:100%; transform-origin:center top; transform:rotateX(-180deg);}
li:nth-of-type(7) {top:100%; left:-100%; transform-origin:right center; transform:rotateY(-180deg);}
li:nth-of-type(8) {top:-100%; left:-100%; transform-origin:center bottom; transform:rotateX(180deg);}
li:nth-of-type(9) {top:-100%; left:100%; transform-origin:left center; transform:rotateY(180deg);}
/*
Setup transition-delay, for mouseout state - more gradual delays for smoother return
*/
li:nth-of-type(2),li:nth-of-type(3) {transition-delay:0.1s;}
li:nth-of-type(4),li:nth-of-type(5) {transition-delay:0.2s;}
li:nth-of-type(6),li:nth-of-type(7) {transition-delay:0.3s;}
li:nth-of-type(8),li:nth-of-type(9) {transition-delay:0.4s;}

/* Hover state delays - quicker expansion */
ul:hover :nth-of-type(2),ul:hover :nth-of-type(3) {transition-delay:0.05s}
ul:hover :nth-of-type(4),ul:hover :nth-of-type(5) {transition-delay:0.1s}
ul:hover :nth-of-type(6),ul:hover :nth-of-type(7) {transition-delay:0.15s}
ul:hover :nth-of-type(8),ul:hover :nth-of-type(9) {transition-delay:0.2s}
/*
Setup planes final state
*/
ul:hover :nth-of-type(2),ul:hover :nth-of-type(4),ul:hover :nth-of-type(7),ul:hover :nth-of-type(9) {transform:rotateY(0);}
ul:hover :nth-of-type(3), ul:hover :nth-of-type(5),ul:hover :nth-of-type(6), ul:hover :nth-of-type(8) {transform:rotateX(0);}
/* 
Set background position
*/
ul li {background-size:300% 300%;}
li:nth-of-type(1) {background-position:center center;}
li:nth-of-type(2) {background-position:right center;}
li:nth-of-type(3) {background-position:center bottom;}
li:nth-of-type(4) {background-position:left center;}
li:nth-of-type(5) {background-position:center top;}
li:nth-of-type(6) {background-position:right bottom;}
li:nth-of-type(7) {background-position:left bottom;}
li:nth-of-type(8) {background-position:left top;}
li:nth-of-type(9) {background-position:right top;}
/*
Set background image source
*/
ul:nth-of-type(1) li { background-image:url(//picsum.photos/1200/800?image=1011);}
ul:nth-of-type(1) { width:120px; height:80px; }
ul:nth-of-type(2) li { background-image:url(//picsum.photos/1424/2136?image=1027);}
ul:nth-of-type(2) { width:90px; height:130px; }
ul:nth-of-type(3) li { background-image:url(//picsum.photos/1618/712?image=996);}
ul:nth-of-type(3) { width:130px; height:90px; }
ul:nth-of-type(4) li { background-image:url(//picsum.photos/1200/800?image=1005);}
ul:nth-of-type(4) { width:120px; height:80px; }
/* 
Hide debug label 
*/  
li { text-indent:999px; overflow:hidden; }
/* Add these new styles for enhanced pop effect */
ul::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    135deg,
    rgba(255,255,255,0.2) 0%,
    rgba(255,255,255,0) 60%
  );
  pointer-events: none;
  border-radius: 8px;
}

ul:hover::after {
  opacity: 0.8;
}

@keyframes float {
  0% {
    transform: rotateX(35deg) scale(1.1) translateY(0px);
  }
  50% {
    transform: rotateX(35deg) scale(1.1) translateY(-20px);
  }
  100% {
    transform: rotateX(35deg) scale(1.1) translateY(0px);
  }
}

.gallery {
  background: radial-gradient(circle at center, rgba(0,0,0,0) 0%, rgba(0,0,0,0.2) 100%);
  position: relative;
}

.gallery::before {
  content: '';
  position: absolute;
  width: 300px;
  height: 100px;
  background: radial-gradient(circle at center, rgba(255,255,255,0.1) 0%, rgba(255,255,255,0) 70%);
  bottom: -50px;
  filter: blur(10px);
  animation: shadowPulse 6s ease-in-out infinite;
  z-index: -1;
}

@keyframes shadowPulse {
  0% {
    opacity: 0.3;
    transform: scale(1);
  }
  50% {
    opacity: 0.2;
    transform: scale(0.9);
  }
  100% {
    opacity: 0.3;
    transform: scale(1);
  }
}

ul:hover li {
  filter: grayscale(0) brightness(1.1) contrast(1.2);
  box-shadow: 0 12px 24px rgba(0,0,0,0.3);
}




ul:hover {
  transform: translateZ(120px) rotateX(15deg) scale(1.3);
  z-index: 999;
  box-shadow: 0 30px 60px rgba(0,0,0,0.5),
              0 0 40px rgba(0,0,0,0.3),
              0 0 100px rgba(0,0,0,0.2);
}

ul:hover li {
  filter: grayscale(0) brightness(1.1) contrast(1.2);
  box-shadow: 0 12px 24px rgba(0,0,0,0.3);
}

/* Planes flipping into view */
ul:hover :nth-of-type(2),
ul:hover :nth-of-type(4),
ul:hover :nth-of-type(7),
ul:hover :nth-of-type(9) {
  transform: rotateY(0);
}
    </style>
</head>
<body>
    <div class="title"></div>
<div class="gallery">
  <ul>
    <li>A</li>
    <li>B</li>
    <li>C</li>
    <li>D</li>
    <li>E</li>
    <li>6</li>
    <li>7</li>
    <li>8</li>
    <li>9</li>
  </ul>
</div>

</body>
</html>