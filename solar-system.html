<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Solar System Exploration</title>
  <style>
    body {
      margin: 0;
      background: radial-gradient(ellipse at center, #1a237e 0%, #000 100%);
      color: #fff;
      font-family: 'Segoe UI', Arial, sans-serif;
      overflow: hidden;
      height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }
    .container {
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
      height: 80vh;
      width: 100vw;
      position: relative;
    }
    .planet-view {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100%;
      min-width: 400px;
    }
    #planet3d {
      width: 400px;
      height: 400px;
      background: transparent;
      border-radius: 50%;
      box-shadow: 0 0 80px 20px rgba(0,0,0,0.7);
      position: relative;
      overflow: hidden;
    }
    .info-panel {
      flex: 1;
      max-width: 400px;
      background: rgba(30,30,60,0.7);
      border-radius: 24px;
      box-shadow: 0 8px 32px 0 rgba(31,38,135,0.18);
      padding: 32px 24px;
      margin-left: 32px;
      display: flex;
      flex-direction: column;
      gap: 18px;
      min-height: 220px;
      justify-content: center;
      align-items: flex-start;
      transition: background 0.4s;
    }
    .info-panel h2 {
      margin: 0 0 8px 0;
      font-size: 2.2em;
      letter-spacing: 2px;
      color: #ffd600;
    }
    .info-panel .distance {
      font-size: 1.1em;
      color: #90caf9;
      margin-bottom: 8px;
    }
    .info-panel .desc {
      font-size: 1.1em;
      color: #fff;
      line-height: 1.5;
    }
    .scroll-indicator {
      position: absolute;
      bottom: 32px;
      left: 50%;
      transform: translateX(-50%);
      color: #fff;
      font-size: 1.1em;
      opacity: 0.7;
      letter-spacing: 1px;
      pointer-events: none;
      user-select: none;
      z-index: 10;
      animation: fadeInUp 2s;
    }
    @keyframes fadeInUp {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 0.7; transform: translateY(0); }
    }
    @media (max-width: 900px) {
      .container {
        flex-direction: column;
        height: auto;
      }
      .info-panel {
        margin-left: 0;
        margin-top: 24px;
        width: 90vw;
        max-width: 98vw;
      }
      #planet3d {
        width: 90vw;
        height: 90vw;
        min-width: 220px;
        min-height: 220px;
        max-width: 400px;
        max-height: 400px;
      }
    }
  </style>
  <script src="https://cdn.jsdelivr.net/npm/three@0.153.0/build/three.min.js"></script>
</head>
<body>
  <div class="container">
    <div class="planet-view">
      <button id="prevPlanet" style="position:absolute;left:-40px;top:50%;transform:translateY(-50%);background:rgba(30,30,60,0.7);border:none;border-radius:50%;width:40px;height:40px;color:#ffd600;font-size:2em;cursor:pointer;z-index:2;">&#8592;</button>
      <div id="planet3d"></div>
      <button id="nextPlanet" style="position:absolute;right:-40px;top:50%;transform:translateY(-50%);background:rgba(30,30,60,0.7);border:none;border-radius:50%;width:40px;height:40px;color:#ffd600;font-size:2em;cursor:pointer;z-index:2;">&#8594;</button>
      <div id="planetIndex" style="position:absolute;bottom:10px;left:50%;transform:translateX(-50%);color:#ffd600;font-size:1.1em;opacity:0.7;">Planet 3 / 8</div>
    </div>
    <div class="info-panel" id="infoPanel">
      <h2 id="planetName"></h2>
      <div class="distance" id="planetDistance"></div>
      <div class="desc" id="planetDesc"></div>
    </div>
    <div class="scroll-indicator">Scroll to explore planets</div>
  </div>
  <script>
    // Planet data and textures
    const planets = [
      {
        name: 'Mercury',
        texture: 'https://threejs.org/examples/textures/planets/mercury.jpg',
        distance: '57.9 million km from Sun',
        desc: 'Mercury is the smallest planet and closest to the Sun. It has a rocky surface and no moons.',
        ring: false,
        size: 0.38,
        shininess: 10,
      },
      {
        name: 'Venus',
        texture: 'https://threejs.org/examples/textures/planets/venus.jpg',
        distance: '108.2 million km from Sun',
        desc: 'Venus is the hottest planet, with a thick toxic atmosphere. It is known as Earthâ€™s twin.',
        ring: false,
        size: 0.95,
        shininess: 30,
      },
      {
        name: 'Earth',
        texture: 'https://threejs.org/examples/textures/planets/earth_atmos_2048.jpg',
        distance: '149.6 million km from Sun',
        desc: 'Earth is our home planet, the only one known to support life, with oceans and a breathable atmosphere.',
        ring: false,
        size: 1.0,
        shininess: 60,
        atmosphere: true,
      },
      {
        name: 'Mars',
        texture: 'https://threejs.org/examples/textures/planets/mars_1k_color.jpg',
        distance: '227.9 million km from Sun',
        desc: 'Mars is the red planet, known for its iron oxide surface and the largest volcano in the solar system.',
        ring: false,
        size: 0.53,
        shininess: 20,
      },
      {
        name: 'Jupiter',
        texture: 'https://threejs.org/examples/textures/planets/jupiter.jpg',
        distance: '778.3 million km from Sun',
        desc: 'Jupiter is the largest planet, a gas giant with a famous Great Red Spot and dozens of moons.',
        ring: false,
        size: 11.2,
        shininess: 80,
      },
      {
        name: 'Saturn',
        texture: 'https://threejs.org/examples/textures/planets/saturn.jpg',
        ringTexture: 'https://threejs.org/examples/textures/planets/saturnringcolor.jpg',
        distance: '1.43 billion km from Sun',
        desc: 'Saturn is a gas giant known for its stunning rings made of ice and rock.',
        ring: true,
        size: 9.4,
        shininess: 70,
        ringInner: 1.5,
        ringOuter: 2.7,
      },
      {
        name: 'Uranus',
        texture: 'https://threejs.org/examples/textures/planets/uranus.jpg',
        ringTexture: 'https://threejs.org/examples/textures/planets/uranusringcolour.jpg',
        distance: '2.87 billion km from Sun',
        desc: 'Uranus is an ice giant with a blue-green color due to methane in its atmosphere. It rotates on its side.',
        ring: true,
        size: 4.0,
        shininess: 50,
        ringInner: 1.3,
        ringOuter: 2.0,
      },
      {
        name: 'Neptune',
        texture: 'https://threejs.org/examples/textures/planets/neptune.jpg',
        distance: '4.5 billion km from Sun',
        desc: 'Neptune is the farthest planet, a deep blue ice giant with supersonic winds.',
        ring: false,
        size: 3.9,
        shininess: 40,
        atmosphere: true,
      },
    ];
    let current = 2; // Start at Earth
    const infoPanel = document.getElementById('infoPanel');
    const planetName = document.getElementById('planetName');
    const planetDistance = document.getElementById('planetDistance');
    const planetDesc = document.getElementById('planetDesc');

    // Three.js setup
    const width = 400, height = 400;
    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(width, height);
    renderer.setClearColor(0x000000, 0);
    const planet3d = document.getElementById('planet3d');
    planet3d.appendChild(renderer.domElement);

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(40, width/height, 0.1, 1000);
    camera.position.z = 3.5;

    // Lighting
    const ambientLight = new THREE.AmbientLight(0xffffff, 0.7);
    scene.add(ambientLight);
    const directionalLight = new THREE.DirectionalLight(0xffffff, 1.2);
    directionalLight.position.set(5, 3, 5);
    scene.add(directionalLight);

    let planetMesh, ringMesh;

    function showPlanet(idx) {
      // Remove all objects from scene
      while(scene.children.length > 0) {
        let obj = scene.children[0];
        if(obj.geometry) obj.geometry.dispose();
        if(obj.material) obj.material.dispose();
        scene.remove(obj);
      }
      // Add lights back
      scene.add(ambientLight);
      scene.add(directionalLight);
      planetMesh = null;
      ringMesh = null;
      const p = planets[idx];
      // Sphere geometry
      // Use relative sizes (scaled for display)
      const baseSize = 1.1;
      const displayScale = 0.09; // scale down for display
      const planetSize = baseSize * (p.size || 1) * displayScale + 0.7; // keep minimum size for visibility
      const geometry = new THREE.SphereGeometry(planetSize, 64, 64);
      const loader = new THREE.TextureLoader();
      loader.load(
        p.texture,
        function(texture) {
          const material = new THREE.MeshPhongMaterial({ map: texture, shininess: p.shininess || 30 });
          planetMesh = new THREE.Mesh(geometry, material);
          scene.add(planetMesh);
          // Add atmosphere glow for select planets
          if (p.atmosphere) {
            const atmGeo = new THREE.SphereGeometry(planetSize * 1.08, 64, 64);
            const atmMat = new THREE.MeshBasicMaterial({ color: 0x66ccff, transparent: true, opacity: 0.18 });
            const atmMesh = new THREE.Mesh(atmGeo, atmMat);
            scene.add(atmMesh);
          }
          // Rings for Saturn/Uranus
          if (p.ring && p.ringTexture) {
            loader.load(p.ringTexture, function(ringTex) {
              const ringGeo = new THREE.RingGeometry(p.ringInner || 1.4, p.ringOuter || 2.1, 64);
              const ringMat = new THREE.MeshBasicMaterial({ map: ringTex, side: THREE.DoubleSide, transparent: true, opacity: 0.7 });
              ringMesh = new THREE.Mesh(ringGeo, ringMat);
              ringMesh.rotation.x = Math.PI / 2.2;
              scene.add(ringMesh);
            }, undefined, function() {
              // Ring texture failed, show ring with basic color
              const ringGeo = new THREE.RingGeometry(p.ringInner || 1.4, p.ringOuter || 2.1, 64);
              const ringMat = new THREE.MeshBasicMaterial({ color: 0xffffff, side: THREE.DoubleSide, transparent: true, opacity: 0.3 });
              ringMesh = new THREE.Mesh(ringGeo, ringMat);
              ringMesh.rotation.x = Math.PI / 2.2;
              scene.add(ringMesh);
            });
          }
        },
        undefined,
        function() {
          // Texture failed, show fallback color
          const material = new THREE.MeshPhongMaterial({ color: 0x333366, shininess: p.shininess || 30 });
          planetMesh = new THREE.Mesh(geometry, material);
          scene.add(planetMesh);
        }
      );
      planetName.textContent = p.name;
      planetDistance.textContent = p.distance;
      planetDesc.textContent = p.desc;
      // Update planet index display
      document.getElementById('planetIndex').textContent = `Planet ${idx+1} / ${planets.length}`;
    }
    showPlanet(current);

    // Scroll to change planet
    window.addEventListener('wheel', (e) => {
      if (e.deltaY > 0) {
        current = Math.min(planets.length - 1, current + 1);
      } else {
        current = Math.max(0, current - 1);
      }
      showPlanet(current);
    });
    // Touch support
    let touchStartY = null;
    window.addEventListener('touchstart', e => {
      if (e.touches.length === 1) touchStartY = e.touches[0].clientY;
    });
    window.addEventListener('touchend', e => {
      if (touchStartY !== null && e.changedTouches.length === 1) {
        const deltaY = touchStartY - e.changedTouches[0].clientY;
        if (deltaY > 30) {
          current = Math.min(planets.length - 1, current + 1);
          showPlanet(current);
        } else if (deltaY < -30) {
          current = Math.max(0, current - 1);
          showPlanet(current);
        }
        touchStartY = null;
      }
    });
    // Arrow navigation
    document.getElementById('prevPlanet').onclick = function() {
      current = Math.max(0, current - 1);
      showPlanet(current);
    };
    document.getElementById('nextPlanet').onclick = function() {
      current = Math.min(planets.length - 1, current + 1);
      showPlanet(current);
    };

    // Animate planet rotation
    function animate() {
      requestAnimationFrame(animate);
      if (planetMesh) planetMesh.rotation.y += 0.008;
      if (ringMesh) ringMesh.rotation.z += 0.002;
      renderer.render(scene, camera);
    }
    animate();
  </script>
</body>
</html>
